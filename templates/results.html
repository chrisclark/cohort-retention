{% extends "base.html" %}

{% block head %}
    <title>Results</title>
    <script type="text/javascript" src="http://cdn.pydata.org/bokeh/release/bokeh-0.12.4.min.js"></script>
    <link rel="stylesheet" href="http://cdn.pydata.org/bokeh/release/bokeh-0.12.4.min.css" />
    {% autoescape false %}
        {{ plot_script }}
        {{ plot_distribution_script }}
    {% endautoescape  %}

{% endblock %}

{% block body %}
    <h1>Results</h1>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Cohort</th>
                <th>Alpha</th>
                <th>Beta</th>
                <th>dLTV</th>
            </tr>
        </thead>
        <tbody>
            {% for res in results %}
                <tr>
                    <td>{{ res.name }}</td>
                    <td>{{ res.alpha|round(3) }}</td>
                    <td>{{ res.beta|round(3) }}</td>
                    <td>${{ res.dltv|round(2) }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="row">
        <div class="col-sm-12 col-md-8 col-md-offset-2">
            {% autoescape false %}
                {{ plot_area }}
            {% endautoescape  %}
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12 col-md-8 col-md-offset-2">
            {% autoescape false %}
                {{ plot_distribution_area}}
            {% endautoescape  %}
        </div>
    </div>
{%  endblock %}